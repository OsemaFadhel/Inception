version : '3.7'

services:
    nginx:
        build: srcs/nginx
        ports:
            - '9000:9000'
            - '443:443'
        volumes:
            - ./srcs/nginx.conf:/etc/nginx/nginx.conf
            - ./srcs/ssl:/etc/ssl
            - ./srcs/www:/var/www
        networks:
            - inception

    wordpress:
        build: srcs/wordpress
        ports:
            - "9000:9000"
        volumes:
            - wordpress:/var/www/html
        env_file:
            - path: ./.env
        networks:
            - inception

    mariadb:
        build: srcs/mariadb
        ports:
            - "3306:3306"
        env_file:
            - path: ./.env
        volumes:
            - mariadb:/var/lib/mysql
        networks:
            - inception

volumes:
    mariadb:
        name: mariadb
        driver: local
    wordpress:
        name: wordpress
        driver: local\


networks:
    inception

